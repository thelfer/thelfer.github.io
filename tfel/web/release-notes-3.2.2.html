<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Release notes of the 3.2.2 version of TFEL, MFront and MTest</title>
        <meta name="author" content="Thomas Helfer" />
            <meta name="date" content="2018-01-01" />
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <style type="text/css">code{white-space: pre;}</style>
                <link rel="stylesheet" href="css/normalize.css"/>
    <link rel="stylesheet" href="css/main.css"/>
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
          </head>
  <body>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
        <header>
      <ul id="nav">
	<li><a href="news.html">News</a></li>
	<li><a href="index.html">Overview</a>
	  <ul>
	    <li><a>Domain specific languages</a>
	      <ul>
		<li><a href="material-properties.html">Material properties</a></li>
		<li><a href="behaviours.html">Mechanical behaviours</a></li>
		<li><a href="models.html">Models</a></li>
	      </ul>
            </li>
	    <li><a href="interfaces.html">Available interfaces</a></li>
	    <li><a href="associated-projects.html">Associated projects</a></li>
     	    <li><a>Tools</a>
	      <ul>
	        <li><a href="mfront-doc.html">mfront-doc</a></li>
	        <li><a href="mtest.html">mtest</a></li>
	        <li><a href="mfm.html">mfm</a></li>
	        <li><a href="mfm-test-generator.html">mfm-test-generator</a></li>
	        <li><a href="tfel-check.html">tfel-check</a></li>
	      </ul>
	    </li>
	  </ul>
	</li>
	<li><a>Getting started</a>
	  <ul>
	    <li><a href="https://sourceforge.net/projects/tfel/files">Download</a></li>
	    <li><a href="release-notes.html">Release notes</a>
	      <ul>
		<li><a>Versions 2.0.x</a>
                  <ul>
                    <li><a href="release-notes.html">Versions prior to 2.0.5</a></li>
	 	    <li><a href="release-notes-2.0.5.html">Version 2.0.5</a></li>
                  </ul>
		</li>
		<li><a>Versions 3.0.x</a>
                  <ul>
		    <li><a href="release-notes-3.0.html">Version 3.0.0</a></li>
		    <li><a href="release-notes-3.0.1.html">Version 3.0.1</a></li>
		    <li><a href="release-notes-3.0.2.html">Version 3.0.2</a></li>
		    <li><a href="release-notes-3.0.3.html">Version 3.0.3</a></li>
		    <li><a href="release-notes-3.0.4.html">Version 3.0.4</a></li>
		    <li><a href="release-notes-3.0.5.html">Version 3.0.5</a></li>
		    <li><a href="release-notes-3.0.6.html">Version 3.0.6</a></li>
		    <li><a href="release-notes-3.0.7.html">Version 3.0.7</a></li>
		    <li><a href="release-notes-3.0.8.html">Version 3.0.8</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.1.x</a>
		  <ul>
		    <li><a href="release-notes-3.1.html">Version 3.1.0</a></li>
		    <li><a href="release-notes-3.1.1.html">Version 3.1.1</a></li>
		    <li><a href="release-notes-3.1.2.html">Version 3.1.2</a></li>
		    <li><a href="release-notes-3.1.3.html">Version 3.1.3</a></li>
		    <li><a href="release-notes-3.1.4.html">Version 3.1.4</a></li>
		    <li><a href="release-notes-3.1.5.html">Version 3.1.5</a></li>
		    <li><a href="release-notes-3.1.6.html">Version 3.1.6</a></li>
		    <li><a href="release-notes-3.1.7.html">Version 3.1.7</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.2.x</a>
		  <ul>
		    <li><a href="release-notes-3.2.html">Version 3.2.0</a></li>
		    <li><a href="release-notes-3.2.1.html">Version 3.2.1</a></li>
		    <li><a href="release-notes-3.2.2.html">Version 3.2.2</a></li>
		    <li><a href="release-notes-3.2.3.html">Version 3.2.3</a></li>
		    <li><a href="release-notes-3.2.4.html">Version 3.2.4</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.3.x</a>
		  <ul>
		    <li><a href="release-notes-3.3.html">Version 3.3.0</a></li>
		    <li><a href="release-notes-3.3.1.html">Version 3.3.1</a></li>
		    <li><a href="release-notes-3.3.1.html">Version 3.3.2</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.4.x</a>
		  <ul>
		    <li><a href="release-notes-3.4.html">Version 3.4.0</a></li>
		    <li><a href="release-notes-3.4.1.html">Version 3.4.1</a></li>
		    <li><a href="release-notes-3.4.2.html">Version 3.4.2</a></li>
		  </ul>
		</li>
		<li><a>Versions 4.0.x</a>
		  <ul>
		    <li><a href="release-notes-4.0.html">Version 4.0.0</a></li>
		  </ul>
		</li>
	      </ul>
	    </li>
	    <li><a href="coverity-scan.html">Coverity scan</a></li>
	    <li><a href="install.html">Installation</a></li>
	  </ul>
	</li>
	<li><a>Documentation</a>
	  <ul>
	    <li><a href="documentations.html">General documentation</a></li>
	    <li><a href="gallery.html">Gallery</a></li>
	    <li><a href="http://tfel.sourceforge.net/doxygen/index.html">Doxygen documentation</a></li>
	    <li><a>Behaviours</a>
	      <ul>
		<li><a href="tutorial.html">Tutorial</a></li>
		<li><a href="implicit-dsl.html">The implicit DSL</a></li>
		<li><a href="benchmark.html">Benchmark</a></li>
		<li><a href="parameters.html">Parameters</a></li>
		<li><a href="BehaviourBricks.html">Behaviour bricks</a></li>
		<li><a href="interfaces.html">Solver interfaces</a>
		  <ul>
		    <li><a href="castem.html">Cast3M</a></li>
		    <li><a href="amitex.html">AMITEX_FFTP</a></li>
		    <li><a href="aster.html">Code-Aster</a></li>
    		    <li><a href="abaqus.html">Abaqus</a></li>
    		    <li><a href="epx.html">EUROPLEXUS</a></li>
		    <li><a href="zmat.html">ZeBuLoN</a></li>
   		    <li><a href="calculix.html">CalculiX</a></li>
		    <!-- <li><a >TMFFT</a></li> -->
		    <li><a href="cyrano.html">Cyrano</a></li>
   		    <li><a href="generic-behaviours-interface.html">Generic Behaviour Interface</a></li>
		  </ul>
		</li>
	      </ul>
	    </li>
	    <li><a>TFEL libraries</a>
	      <ul>
		<li><a href="material.html">TFEL/Material</a></li>
	      </ul>
	    </li>
	    <li><a>Python modules</a>
	      <ul>
		<li><a href="tfel-python.html">TFEL modules</a></li>
		<li><a href="mfront-python.html">mfront module</a></li>
		<li><a href="mtest-python.html">mtest module</a></li>
	      </ul>
	    </li>
	    <li><a>MFront keywords</a>
	      <ul>
		<li><a href="DefaultDSL-keywords.html">DefaultDSL</a></li> 
		<li><a href="DefaultCZMDSL-keywords.html">DefaultCZMDSL</a></li> 
		<li><a href="DefaultFiniteStrainDSL-keywords.html">DefaultFiniteStrainDSL</a></li> 
		<li><a href="Implicit-keywords.html">Implicit</a></li> 
		<li><a href="ImplicitFiniteStrain-keywords.html">ImplicitFiniteStrain</a></li> 
		<li><a href="ImplicitII-keywords.html">ImplicitII</a></li> 
		<li><a href="IsotropicMisesCreep-keywords.html">IsotropicMisesCreep</a></li> 
		<li><a href="IsotropicPlasticMisesFlow-keywords.html">IsotropicPlasticMisesFlow</a></li> 
		<li><a href="IsotropicStrainHardeningMisesCreep-keywords.html">IsotropicStrainHardeningMisesCreep</a></li> 
		<li><a href="MaterialLaw-keywords.html">MaterialLaw</a></li> 
		<li><a href="Model-keywords.html">Model</a></li> 
		<li><a href="MultipleIsotropicMisesFlows-keywords.html">MultipleIsotropicMisesFlows</a></li> 
		<li><a href="RungeKutta-keywords.html">RungeKutta</a></li> 
	      </ul>
	    </li>
	    <li><a href="MTest-keywords.html">MTest keywords</a></li>
	    <li><a href="physical-constants.html">Physical constants</a></li>
	    <li><a href="glossary.html">Glossary</a></li>
	    <li><a href="publications.html">Publications</a></li>
	    <li><a href="faq.html">FAQ</a></li>
	    <li><a href="about.html">About</a></li>
	  </ul>
	</li>
	<li><a>Contributing</a>
	  <ul>
	    <li><a href="svn.html">Access to source repositories</a></li>
	    <li><a href="devel.html">Development guidelines</a></li>
	    <li><a href="http://sourceforge.net/p/tfel/tickets">Report bugs</a></li>
	  </ul>
	</li>
	<li><a>Getting Help</a>
	  <ul>
	    <li><a href="search.html">Search on this site</a></li>
	    <li><a href="http://sourceforge.net/p/tfel/discussion">Forum</a></li>
	    <li><a href="http://sourceforge.net/p/tfel/tfel">Mailing lists</a></li>
	    <li><a href="mailto:tfel-contact@cea.fr">Contact</a></li>
	  </ul>
	</li>
      </ul>
    </header>
<div id="header">
<h1 class="title">Release notes of the 3.2.2 version of <code>TFEL</code>, <code>MFront</code> and <code>MTest</code></h1>
<h2 class="author">Thomas Helfer</h2>
<h3 class="date">2018</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#new-mfront-features">New MFront Features</a>
<ul>
<li><a href="#new-algorithm-to-treat-damage-in-the-ddif2-stress-potential">New algorithm to treat damage in the <code>DDIF2</code> stress potential</a></li>
</ul></li>
<li><a href="#issues-solved">Issues solved</a>
<ul>
<li><a href="#ticket-192-dsl-implicit-definition">Ticket #192: DSL ‘Implicit’ definition</a></li>
<li><a href="#ticket-187-conversions-in-numbergetcxxformula-is-biased-by-rounding-errors">Ticket #187: Conversions in <code>Number::getCxxFormula</code> is biased by rounding errors</a></li>
<li><a href="#ticket-186-less-than-conditional-is-not-correctly-translated-to-c-by-tfelmathevaluator">Ticket #186: “Less than” conditional is not correctly translated to <code>C++</code> by <code>tfel::math::Evaluator</code></a></li>
<li><a href="#ticket-182-jacobian-error-in-the-swiftisotropichardeningrule">Ticket #182: Jacobian error in the SwiftIsotropicHardeningRule</a></li>
<li><a href="#ticket-174-using-formulae-with-the-voce-hardening-rule-is-broken">Ticket #174: Using formulae with the Voce hardening rule is broken</a></li>
<li><a href="#ticket-173-the-axial-component-of-the-deformation-gradient-was-not-correctly-updated-in-the-generic-interface-in-plane-stress-when-using-the-greenlagrange-strain-measure">Ticket #173: The axial component of the deformation gradient was not correctly updated in the <code>generic</code> interface in plane stress when using the GreenLagrange strain measure</a></li>
<li><a href="#ticket-157-remove-access-members-to-the-jacobian-blocks-associate-with-array-of-integration-variables-when-a-numerical-jacobian-is-used">Ticket #157: Remove access members to the jacobian blocks associate with array of integration variables when a numerical jacobian is used</a></li>
</ul></li>
<li><a href="#references">References</a></li>
</ul>
</div>
<p>Version <code>3.2.2</code> is mainly a bug fix version of the <code>3.2</code> series.</p>
<p>This version was released along with Version <code>3.1.5</code> and inherits from all the fixes of this version.</p>
<h1 id="new-mfront-features">New MFront Features</h1>
<h2 id="new-algorithm-to-treat-damage-in-the-ddif2-stress-potential">New algorithm to treat damage in the <code>DDIF2</code> stress potential</h2>
<p>Two improvements were made to the numerical treatment of the <code>DDIF2</code> stress potential:</p>
<ul>
<li>The <code>DDIF2</code> damage behaviour is now treated by default using an algorithm based on statuses. In each damage directions, the damage state is kept constant during the Newton iterations. Once converged, the consistency of the damage state with the solution found is tested. If the state is inconsistent, the iterations are restarted with a new state.</li>
<li>The implicit scheme is now divided in two steps by default. In the first step, the time step is set to zero before the prediction stage. This is meant to filter all viscoplastic flows and the convergence is thus performed only on the damage state (unless another rate-independent mechanisms is considered). Once converged on the damage state, the time step is reset to its original value and the implicit resolution is restarted.</li>
</ul>
<p>The <code>DDIF2</code> stress potential (and thus the DDIF2 brick) has two new options:</p>
<ul>
<li><code>use_status_algorithm</code> (boolean value, true by default). If false, the algorithm used in previous version is used.</li>
<li><code>first_converge_on_damage</code> (boolean value, true by default). If false, the time step is not set to zero at the prediction stage.</li>
</ul>
<h1 id="issues-solved">Issues solved</h1>
<h2 id="ticket-192-dsl-implicit-definition">Ticket #192: DSL ‘Implicit’ definition</h2>
<p>The documentation of the <code>Implicit</code> <code>DSL</code> was wrong about the automatic definition of the elastic strain.</p>
<p>For more details, see: <a href="https://sourceforge.net/p/tfel/tickets/192/" class="uri">https://sourceforge.net/p/tfel/tickets/192/</a></p>
<h2 id="ticket-187-conversions-in-numbergetcxxformula-is-biased-by-rounding-errors">Ticket #187: Conversions in <code>Number::getCxxFormula</code> is biased by rounding errors</h2>
<p><code>Number::getCxxFormula</code> did rely on <code>std::to_string</code> which only has 6 significant digits. As an example, the output of <code>std::to_string(1e-14)</code> is <code>0.000000</code>.</p>
<p>To overcome this issue, the <code>Number</code> structure now holds the original string representation of the number, as given by the user.</p>
<p>For more details, see: <a href="https://sourceforge.net/p/tfel/tickets/187/" class="uri">https://sourceforge.net/p/tfel/tickets/187/</a></p>
<h2 id="ticket-186-less-than-conditional-is-not-correctly-translated-to-c-by-tfelmathevaluator">Ticket #186: “Less than” conditional is not correctly translated to <code>C++</code> by <code>tfel::math::Evaluator</code></h2>
<p>The <code>tfel::math::Evaluator</code> class allows to translate a formula in <code>C++</code> since Version 3.2.</p>
<p>Operators <code>&lt;</code> and <code>&lt;=</code> were not correctly implemented, so the following formula <code>a&lt;b ? 0 : 1</code> was translated <code>a&gt;b ? 0: 1</code> in <code>C++</code>.</p>
<p>For more details, see: <a href="https://sourceforge.net/p/tfel/tickets/186/" class="uri">https://sourceforge.net/p/tfel/tickets/186/</a></p>
<h2 id="ticket-182-jacobian-error-in-the-swiftisotropichardeningrule">Ticket #182: Jacobian error in the SwiftIsotropicHardeningRule</h2>
<p>For more details, see: <a href="https://sourceforge.net/p/tfel/tickets/182/" class="uri">https://sourceforge.net/p/tfel/tickets/182/</a></p>
<h2 id="ticket-174-using-formulae-with-the-voce-hardening-rule-is-broken">Ticket #174: Using formulae with the Voce hardening rule is broken</h2>
<p>For more details, see: <a href="https://sourceforge.net/p/tfel/tickets/174/" class="uri">https://sourceforge.net/p/tfel/tickets/174/</a></p>
<h2 id="ticket-173-the-axial-component-of-the-deformation-gradient-was-not-correctly-updated-in-the-generic-interface-in-plane-stress-when-using-the-greenlagrange-strain-measure">Ticket #173: The axial component of the deformation gradient was not correctly updated in the <code>generic</code> interface in plane stress when using the GreenLagrange strain measure</h2>
<p>For more details, see: <a href="https://sourceforge.net/p/tfel/tickets/173/" class="uri">https://sourceforge.net/p/tfel/tickets/173/</a></p>
<h2 id="ticket-157-remove-access-members-to-the-jacobian-blocks-associate-with-array-of-integration-variables-when-a-numerical-jacobian-is-used">Ticket #157: Remove access members to the jacobian blocks associate with array of integration variables when a numerical jacobian is used</h2>
<p>For more details, see: <a href="https://sourceforge.net/p/tfel/tickets/157/" class="uri">https://sourceforge.net/p/tfel/tickets/157/</a></p>
<h1 id="references">References</h1>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-62273823-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
