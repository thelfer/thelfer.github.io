<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Introduction à MFront</title>
        <meta name="author" content="Helfer Thomas" />
        <meta name="author" content="Jean-Michel Proix" />
            <meta name="date" content="2014-09-16" />
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <style type="text/css">code{white-space: pre;}</style>
            <style type="text/css">
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          color: #aaaaaa;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
      div.sourceCode
        {  background-color: #f8f8f8; }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span.al { color: #ef2929; } /* Alert */
      code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
      code span.at { color: #204a87; } /* Attribute */
      code span.bn { color: #0000cf; } /* BaseN */
      code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #4e9a06; } /* Char */
      code span.cn { color: #8f5902; } /* Constant */
      code span.co { color: #8f5902; font-style: italic; } /* Comment */
      code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
      code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
      code span.dt { color: #204a87; } /* DataType */
      code span.dv { color: #0000cf; } /* DecVal */
      code span.er { color: #a40000; font-weight: bold; } /* Error */
      code span.ex { } /* Extension */
      code span.fl { color: #0000cf; } /* Float */
      code span.fu { color: #204a87; font-weight: bold; } /* Function */
      code span.im { } /* Import */
      code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
      code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
      code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
      code span.ot { color: #8f5902; } /* Other */
      code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
      code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
      code span.ss { color: #4e9a06; } /* SpecialString */
      code span.st { color: #4e9a06; } /* String */
      code span.va { color: #000000; } /* Variable */
      code span.vs { color: #4e9a06; } /* VerbatimString */
      code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
    </style>
            <link rel="stylesheet" href="css/normalize.css"/>
    <link rel="stylesheet" href="css/main.css"/>
        <script
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
        type="text/javascript"></script>
          </head>
  <body>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
        <header>
      <ul id="nav">
	<li><a href="news.html">News</a></li>
	<li><a href="index.html">Overview</a>
	  <ul>
	    <li><a>Domain specific languages</a>
	      <ul>
		<li><a href="material-properties.html">Material properties</a></li>
		<li><a href="behaviours.html">Mechanical behaviours</a></li>
		<li><a href="models.html">Models</a></li>
	      </ul>
            </li>
	    <li><a href="interfaces.html">Available interfaces</a></li>
	    <li><a href="associated-projects.html">Associated projects</a></li>
     	    <li><a>Tools</a>
	      <ul>
	        <li><a href="mfront-doc.html">mfront-doc</a></li>
	        <li><a href="mtest.html">mtest</a></li>
	        <li><a href="mfm.html">mfm</a></li>
	        <li><a href="mfm-test-generator.html">mfm-test-generator</a></li>
	        <li><a href="tfel-check.html">tfel-check</a></li>
	      </ul>
	    </li>
	  </ul>
	</li>
	<li><a>Getting started</a>
	  <ul>
	    <li><a href="https://github.com/thelfer/tfel/">Github repository</a></li>
	    <li><a href="https://github.com/thelfer/tfel/releases">Download</a></li>
	    <li><a href="release-notes.html">Release notes</a>
	      <ul>
		<li><a>Versions 2.0.x</a>
                  <ul>
                    <li><a href="release-notes.html">Versions prior to 2.0.5</a></li>
	 	    <li><a href="release-notes-2.0.5.html">Version 2.0.5</a></li>
                  </ul>
		</li>
		<li><a>Versions 3.0.x</a>
                  <ul>
		    <li><a href="release-notes-3.0.html">Version 3.0.0</a></li>
		    <li><a href="release-notes-3.0.1.html">Version 3.0.1</a></li>
		    <li><a href="release-notes-3.0.2.html">Version 3.0.2</a></li>
		    <li><a href="release-notes-3.0.3.html">Version 3.0.3</a></li>
		    <li><a href="release-notes-3.0.4.html">Version 3.0.4</a></li>
		    <li><a href="release-notes-3.0.5.html">Version 3.0.5</a></li>
		    <li><a href="release-notes-3.0.6.html">Version 3.0.6</a></li>
		    <li><a href="release-notes-3.0.7.html">Version 3.0.7</a></li>
		    <li><a href="release-notes-3.0.8.html">Version 3.0.8</a></li>
		    <li><a href="release-notes-3.0.9.html">Version 3.0.9</a></li>
		    <li><a href="release-notes-3.0.10.html">Version 3.0.10</a></li>
		    <li><a href="release-notes-3.0.11.html">Version 3.0.11</a></li>
		    <li><a href="release-notes-3.0.12.html">Version 3.0.12</a></li>
		    <li><a href="release-notes-3.0.13.html">Version 3.0.13</a></li>
		    <li><a href="release-notes-3.0.14.html">Version 3.0.14</a></li>
		    <li><a href="release-notes-3.0.15.html">Version 3.0.15</a></li>
		    <li><a href="release-notes-3.0.16.html">Version 3.0.16</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.1.x</a>
		  <ul>
		    <li><a href="release-notes-3.1.html">Version 3.1.0</a></li>
		    <li><a href="release-notes-3.1.1.html">Version 3.1.1</a></li>
		    <li><a href="release-notes-3.1.2.html">Version 3.1.2</a></li>
		    <li><a href="release-notes-3.1.3.html">Version 3.1.3</a></li>
		    <li><a href="release-notes-3.1.4.html">Version 3.1.4</a></li>
		    <li><a href="release-notes-3.1.5.html">Version 3.1.5</a></li>
		    <li><a href="release-notes-3.1.6.html">Version 3.1.6</a></li>
		    <li><a href="release-notes-3.1.7.html">Version 3.1.7</a></li>
		    <li><a href="release-notes-3.1.8.html">Version 3.1.8</a></li>
		    <li><a href="release-notes-3.1.9.html">Version 3.1.9</a></li>
		    <li><a href="release-notes-3.1.10.html">Version 3.1.10</a></li>
		    <li><a href="release-notes-3.1.11.html">Version 3.1.11</a></li>
		    <li><a href="release-notes-3.1.12.html">Version 3.1.12</a></li>
		    <li><a href="release-notes-3.1.13.html">Version 3.1.13</a></li>
		    <li><a href="release-notes-3.1.14.html">Version 3.1.14</a></li>
		    <li><a href="release-notes-3.1.15.html">Version 3.1.15</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.2.x</a>
		  <ul>
		    <li><a href="release-notes-3.2.html">Version 3.2.0</a></li>
		    <li><a href="release-notes-3.2.1.html">Version 3.2.1</a></li>
		    <li><a href="release-notes-3.2.2.html">Version 3.2.2</a></li>
		    <li><a href="release-notes-3.2.3.html">Version 3.2.3</a></li>
		    <li><a href="release-notes-3.2.4.html">Version 3.2.4</a></li>
		    <li><a href="release-notes-3.2.5.html">Version 3.2.5</a></li>
		    <li><a href="release-notes-3.2.6.html">Version 3.2.6</a></li>
		    <li><a href="release-notes-3.2.7.html">Version 3.2.7</a></li>
		    <li><a href="release-notes-3.2.8.html">Version 3.2.8</a></li>
		    <li><a href="release-notes-3.2.9.html">Version 3.2.9</a></li>
		    <li><a href="release-notes-3.2.10.html">Version 3.2.10</a></li>
		    <li><a href="release-notes-3.2.11.html">Version 3.2.11</a></li>
		    <li><a href="release-notes-3.2.12.html">Version 3.2.12</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.3.x</a>
		  <ul>
		    <li><a href="release-notes-3.3.html">Version 3.3.0</a></li>
		    <li><a href="release-notes-3.3.1.html">Version 3.3.1</a></li>
		    <li><a href="release-notes-3.3.1.html">Version 3.3.2</a></li>
		    <li><a href="release-notes-3.3.2.html">Version 3.3.2</a></li>
		    <li><a href="release-notes-3.3.3.html">Version 3.3.3</a></li>
		    <li><a href="release-notes-3.3.4.html">Version 3.3.4</a></li>
		    <li><a href="release-notes-3.3.5.html">Version 3.3.5</a></li>
		    <li><a href="release-notes-3.3.6.html">Version 3.3.6</a></li>
		    <li><a href="release-notes-3.3.7.html">Version 3.3.7</a></li>
		  </ul>
		</li>
		<li><a>Versions 3.4.x</a>
		  <ul>
		    <li><a href="release-notes-3.4.html">Version 3.4.0</a></li>
		    <li><a href="release-notes-3.4.1.html">Version 3.4.1</a></li>
		    <li><a href="release-notes-3.4.2.html">Version 3.4.2</a></li>
		    <li><a href="release-notes-3.4.3.html">Version 3.4.3</a></li>
		    <li><a href="release-notes-3.4.4.html">Version 3.4.4</a></li>
		    <li><a href="release-notes-3.4.5.html">Version 3.4.5</a></li>
		    <li><a href="release-notes-3.4.6.html">Version 3.4.6</a></li>
		    <li><a href="release-notes-3.4.7.html">Version 3.4.7</a></li>
		    <li><a href="release-notes-3.4.8.html">Version 3.4.8</a></li>
		  </ul>
		</li>
		<li><a>Versions 4.0.x</a>
		  <ul>
		    <li><a href="release-notes-4.0.html">Version 4.0.0</a></li>
		    <li><a href="release-notes-4.0.1.html">Version 4.0.1</a></li>
		    <li><a href="release-notes-4.0.2.html">Version 4.0.2</a></li>
		    <li><a href="release-notes-4.0.3.html">Version 4.0.3</a></li>
		    <li><a href="release-notes-4.0.4.html">Version 4.0.4</a></li>
		    <li><a href="release-notes-4.0.5.html">Version 4.0.5</a></li>
		    <li><a href="release-notes-4.0.6.html">Version 4.0.6</a></li>
		  </ul>
		</li>
		<li><a>Versions 4.1.x</a>
		  <ul>
		    <li><a href="release-notes-4.1.html">Version 4.1.0</a></li>
		    <li><a href="release-notes-4.1.1.html">Version 4.1.1</a></li>
		    <li><a href="release-notes-4.1.2.html">Version 4.1.2</a></li>
		    <li><a href="release-notes-4.1.3.html">Version 4.1.3</a></li>
		    <li><a href="release-notes-4.1.4.html">Version 4.1.4</a></li>
		    <li><a href="release-notes-4.1.5.html">Version 4.1.5</a></li>
		  </ul>
		</li>
		<li><a>Versions 4.2.x</a>
		  <ul>
		    <li><a href="release-notes-4.2.html">Version 4.2.0</a></li>
		    <li><a href="release-notes-4.2.1.html">Version 4.2.1</a></li>
		    <li><a href="release-notes-4.2.2.html">Version 4.2.2</a></li>
		    <li><a href="release-notes-4.2.3.html">Version 4.2.3</a></li>
		  </ul>
		</li>
		<li><a>Versions 5.0.x</a>
		  <ul>
		    <li><a href="release-notes-5.0.html">Version 5.0.0</a></li>
		    <li><a href="release-notes-5.0.1.html">Version 5.0.1</a></li>
		    <li><a href="release-notes-5.0.2.html">Version 5.0.2</a></li>
		  </ul>
		</li>
		<li><a>Versions 5.1.x</a>
		  <ul>
		    <li><a href="release-notes-5.1.html">Version 5.1.0</a></li>
		  </ul>
		</li>
	      </ul>
	    </li>
	    <li><a href="coverity-scan.html">Coverity scan</a></li>
	    <li><a href="install.html">Installation</a></li>
	  </ul>
	</li>
	<li><a>Documentation</a>
	  <ul>
	    <li><a href="documentations.html">General documentation</a></li>
	    <li><a href="gallery.html">Gallery</a></li>
<!--	    
	    <li><a href="http://tfel.sourceforge.net/doxygen/index.html">Doxygen documentation</a></li>
-->
	    <li><a>Behaviours</a>
	      <ul>
		<li><a href="tutorial.html">Tutorial</a></li>
		<li><a href="implicit-dsl.html">The Implicit DSL</a></li>
		<li><a href="benchmark.html">Benchmark</a></li>
		<li><a href="parameters.html">Parameters</a></li>
		<li><a href="BehaviourBricks.html">Behaviour bricks</a></li>
		<li><a href="interfaces.html">Solver interfaces</a>
		  <ul>
		    <li><a href="castem.html">Cast3M</a></li>
		    <li><a href="amitex.html">AMITEX_FFTP</a></li>
		    <li><a href="aster.html">Code-Aster</a></li>
    		    <li><a href="abaqus.html">Abaqus</a></li>
		    <li><a href="zmat.html">ZeBuLoN</a></li>
   		    <li><a href="calculix.html">CalculiX</a></li>
		    <!-- <li><a >TMFFT</a></li> -->
		    <li><a href="cyrano.html">Cyrano</a></li>
   		    <li><a href="generic-material-property-interface.html">Generic interface for material properties</a></li>
   		    <li><a href="generic-behaviours-interface.html">Generic interface for behaviours</a></li>
		  </ul>
		</li>
	      </ul>
	    </li>
	    <li><a>TFEL libraries</a>
	      <ul>
		<li><a href="libraries_usage.html">Usage of the TFEL libraries in C++</a></li>
		<li><a href="tfel-math.html">TFEL/Math</a></li>
		<li><a href="tfel-material.html">TFEL/Material</a></li>
	      </ul>
	    </li>
	    <li><a>Python modules</a>
	      <ul>
		<li><a href="tfel-python.html">TFEL modules</a></li>
		<li><a href="mfront-python.html">mfront module</a></li>
		<li><a href="mtest-python.html">mtest module</a></li>
	      </ul>
	    </li>
	    <li><a>MFront keywords</a>
	      <ul>
	        <li><a href="Default-keywords.html">Default</a></li>
	        <li><a href="DefaultCZM-keywords.html">DefaultCZM</a></li>
	        <li><a href="DefaultFiniteStrain-keywords.html">DefaultFiniteStrain</a></li>
	        <li><a href="DefaultGenericBehaviour-keywords.html">DefaultGenericBehaviour</a></li>
	        <li><a href="DefaultModel-keywords.html">DefaultModel</a></li>
	        <li><a href="Implicit-keywords.html">Implicit</a></li>
	        <li><a href="ImplicitCZM-keywords.html">ImplicitCZM</a></li>
	        <li><a href="ImplicitFiniteStrain-keywords.html">ImplicitFiniteStrain</a></li>
	        <li><a href="ImplicitGenericBehaviour-keywords.html">ImplicitGenericBehaviour</a></li>
	        <li><a href="ImplicitModel-keywords.html">ImplicitModel</a></li>
	        <li><a href="ImplicitII-keywords.html">ImplicitII</a></li>
	        <li><a href="IsotropicMisesCreep-keywords.html">IsotropicMisesCreep</a></li>
	        <li><a href="IsotropicMisesPlasticFlow-keywords.html">IsotropicMisesPlasticFlow</a></li>
	        <li><a href="IsotropicPlasticMisesFlow-keywords.html">IsotropicPlasticMisesFlow</a></li>
	        <li><a href="IsotropicStrainHardeningMisesCreep-keywords.html">IsotropicStrainHardeningMisesCreep</a></li>
	        <li><a href="MaterialLaw-keywords.html">MaterialLaw</a></li>
	        <li><a href="MaterialProperty-keywords.html">MaterialProperty</a></li>
	        <li><a href="Model-keywords.html">Model</a></li>
	        <li><a href="MultipleIsotropicMisesFlows-keywords.html">MultipleIsotropicMisesFlows</a></li>
	        <li><a href="RungeKutta-keywords.html">RungeKutta</a></li>
	        <li><a href="RungeKuttaFiniteStrain-keywords.html">RungeKuttaFiniteStrain</a></li>
	        <li><a href="RungeKuttaGenericBehaviour-keywords.html">RungeKuttaGenericBehaviour</a></li>
	        <li><a href="RungeKuttaModel-keywords.html">RungeKuttaModel</a></li>
	      </ul>
	    </li>
	    <li><a href="MTest-keywords.html">MTest keywords</a></li>
	    <li><a href="physical-constants.html">Physical constants</a></li>
	    <li><a href="glossary.html">Glossary</a></li>
	    <li><a href="publications.html">Publications</a></li>
	    <li><a href="faq.html">FAQ</a></li>
	    <li><a href="about.html">About</a></li>
	  </ul>
	</li>
	<li><a>Contributing</a>
	  <ul>
	    <li><a href="https://github.com/thelfer/tfel">Access to sources</a></li>
	    <li><a href="contributing.html">Contributing guidelines</a></li>
	    <li><a href="https://github.com/thelfer/tfel/issues">Report bugs</a></li>
	  </ul>
	</li>
	<li><a>Getting Help</a>
	  <ul>
	    <li><a href="search.html">Search on this site</a></li>
	    <li><a href="https://github.com/thelfer/tfel/discussions">Forum</a></li>
	    <li><a href="https://github.com/thelfer/tfel/issues">Bug report</a></li>
	    <li><a href="https://github.com/thelfer/tfel/issues">Feature request</a></li>
	    <li><a href="mailto:tfel-contact@cea.fr">Contact</a></li>
	  </ul>
	</li>
      </ul>
    </header>
<div id="header">
<h1 class="title">Introduction à MFront</h1>
<h2 class="author">Helfer Thomas</h2>
<h2 class="author">Jean-Michel Proix</h2>
<h3 class="date">September 16, 2014</h3>
</div>
<div id="TOC">
<ul>
<li><a
href="#comment-écrire-une-loi-de-comportement-la-loi-de-comportement-de-norton"
id="toc-comment-écrire-une-loi-de-comportement-la-loi-de-comportement-de-norton">Comment
écrire une loi de comportement: la loi de comportement de Norton</a>
<ul>
<li><a href="#discrétisation-implicite-de-loi-de-norton"
id="toc-discrétisation-implicite-de-loi-de-norton">Discrétisation
implicite de loi de Norton</a></li>
<li><a href="#première-implantation"
id="toc-première-implantation">Première implantation</a>
<ul>
<li><a href="#description-ligne-par-ligne"
id="toc-description-ligne-par-ligne">Description ligne par
ligne</a></li>
</ul></li>
<li><a href="#premier-test" id="toc-premier-test">Premier test</a></li>
</ul></li>
<li><a href="#références" id="toc-références">Références</a></li>
</ul>
</div>
<p>Cette page est extraitre du tutoriel MFront : <a
href="documents/tutoriel/tutoriel.pdf">tutoriel.pdf</a>.</p>
<h1
id="comment-écrire-une-loi-de-comportement-la-loi-de-comportement-de-norton">Comment
écrire une loi de comportement: la loi de comportement de Norton</h1>
<p>En guise de préliminaire, prenons par exemple la loi de Norton. Elle
est définie par: <span class="math display">\[\left\{
  \begin{aligned}
    \underline{\epsilon}^{\mathrm{to}}&amp;=
\underline{\epsilon}^{\mathrm{el}}+\underline{\epsilon}^{\mathrm{vis}}\\
    \underline{\sigma}&amp;=
\underline{\mathbf{D}}\,:\,\underline{\epsilon}^{\mathrm{el}}\\
    \underline{\dot{\epsilon}}^{\mathrm{vis}}&amp;=
\dot{p}\,\underline{n} \\
    \dot{p}       &amp;= A\,\sigma_{\mathrm{eq}}^{m}
  \end{aligned}
\right.\]</span> où:</p>
<ul>
<li><span
class="math inline">\(\underline{\epsilon}^{\mathrm{to}}\)</span>, <span
class="math inline">\(\underline{\epsilon}^{\mathrm{el}}\)</span>, <span
class="math inline">\(\underline{\epsilon}^{\mathrm{vis}}\)</span>
représentant respectivement les déformations totale, élastique et
visqueuse ;</li>
<li><span class="math inline">\(\underline{n}={\displaystyle
\frac{\displaystyle 3}{\displaystyle 2}}\,{\displaystyle
\frac{\displaystyle \underline{s}}{\displaystyle
\sigma_{\mathrm{eq}}}}\)</span> est la direction d’écoulement ;</li>
<li><span class="math inline">\(\underline{s}\)</span> est le déviateur
des contraintes ;</li>
<li><span class="math inline">\(\sigma_{\mathrm{eq}}\)</span> est la
norme de Von Mises.</li>
</ul>
<p>L’opérateur d’élasticité <span
class="math inline">\(\underline{\mathbf{D}}\)</span> est calculé à
partir du module d’ <span class="math inline">\(E\)</span> et du
coefficient de <span class="math inline">\(\nu\)</span>.</p>
<h2 id="discrétisation-implicite-de-loi-de-norton">Discrétisation
implicite de loi de Norton</h2>
<p>Pour intégrer cette loi dans un calcul de structure, il faut procéder
à une discrétisation en temps, ce qui revient à définir une suite
d’instants de calcul <span
class="math inline">\(\left\{t_{i}\right\}_{1\le i\le I}\)</span>.</p>
<p>Pour utiliser un algorithme implicite, il suffit d’écrire toutes les
quantités à l’instant <span class="math inline">\(t_{i}\)</span> et de
remplacer les dérivées en temps par leurs incréments sur l’intervalle
<span class="math inline">\(\Delta t= t_{i} - t_{i-1}\)</span> : <span
class="math display">\[\left\{
  \begin{aligned}
    \Delta\,\underline{\epsilon}^{\mathrm{el}}-
\Delta\,\underline{\epsilon}^{\mathrm{to}}+ \Delta\,p\,\underline{n} = 0
\\
    \Delta\,p  - \Delta\,t\, A\,\sigma_{\mathrm{eq}}^{m} = 0
  \end{aligned}
\right.\]</span></p>
<p>avec:</p>
<ul>
<li><span class="math inline">\(\underline{\sigma}=
\underline{\mathbf{D}}\,:\,\underline{\epsilon}^{\mathrm{el}}\)</span>
;</li>
<li><span class="math inline">\(\underline{n}={\displaystyle
\frac{\displaystyle 3}{\displaystyle 2}}\,{\displaystyle
\frac{\displaystyle  \underline{s}
\left(t_{i}\right)}{\displaystyle  \sigma_{\mathrm{eq}}\left(
t_{i}\right)}}\)</span></li>
</ul>
<p>On obtient ainsi un système de 7 équations (6 équations — en 3D —
relatives à la décomposition additive du tenseur des déformations, et
une équation relative à l’écoulement visco-plastique). Les <span
class="math inline">\(7\)</span> inconnues sont les <span
class="math inline">\(6\)</span> composantes de <span
class="math inline">\(\Delta\,\underline{\epsilon}^{\mathrm{el}}\)</span>
(en <span class="math inline">\(3D\)</span>) et <span
class="math inline">\(\Delta p\)</span>.</p>
<p>La résolution implicite de ce système est effectuée par une méthode
de Newton.</p>
<h2 id="première-implantation">Première implantation</h2>
<p>Voici un exemple très simple d’intégration implicite de ce modèle
avec <code>MFront</code> :</p>
<div class="sourceCode" id="UO2YoungModulus"><pre
class="sourceCode numberSource cpp numberLines"><code class="sourceCode cpp"><span id="UO2YoungModulus-1"><a href="#UO2YoungModulus-1"></a><span class="er">@</span>Parser Implicit<span class="op">;</span></span>
<span id="UO2YoungModulus-2"><a href="#UO2YoungModulus-2"></a><span class="er">@</span>Behaviour Norton<span class="op">;</span></span>
<span id="UO2YoungModulus-3"><a href="#UO2YoungModulus-3"></a><span class="er">@</span>Algorithm NewtonRaphson_NumericalJacobian <span class="op">;</span></span>
<span id="UO2YoungModulus-4"><a href="#UO2YoungModulus-4"></a></span>
<span id="UO2YoungModulus-5"><a href="#UO2YoungModulus-5"></a><span class="er">@</span>RequireStiffnessTensor<span class="op">;</span></span>
<span id="UO2YoungModulus-6"><a href="#UO2YoungModulus-6"></a></span>
<span id="UO2YoungModulus-7"><a href="#UO2YoungModulus-7"></a><span class="er">@</span>MaterialProperty real A<span class="op">;</span></span>
<span id="UO2YoungModulus-8"><a href="#UO2YoungModulus-8"></a><span class="er">@</span>MaterialProperty real m<span class="op">;</span></span>
<span id="UO2YoungModulus-9"><a href="#UO2YoungModulus-9"></a></span>
<span id="UO2YoungModulus-10"><a href="#UO2YoungModulus-10"></a><span class="er">@</span>StateVariable real p <span class="op">;</span></span>
<span id="UO2YoungModulus-11"><a href="#UO2YoungModulus-11"></a></span>
<span id="UO2YoungModulus-12"><a href="#UO2YoungModulus-12"></a><span class="er">@</span>ComputeStress<span class="op">{</span></span>
<span id="UO2YoungModulus-13"><a href="#UO2YoungModulus-13"></a>  sig <span class="op">=</span> D<span class="op">*</span>eel <span class="op">;</span></span>
<span id="UO2YoungModulus-14"><a href="#UO2YoungModulus-14"></a><span class="op">}</span></span>
<span id="UO2YoungModulus-15"><a href="#UO2YoungModulus-15"></a></span>
<span id="UO2YoungModulus-16"><a href="#UO2YoungModulus-16"></a><span class="er">@</span>Integrator<span class="op">{</span></span>
<span id="UO2YoungModulus-17"><a href="#UO2YoungModulus-17"></a>  real seq <span class="op">=</span> sigmaeq<span class="op">(</span>sig<span class="op">)</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-18"><a href="#UO2YoungModulus-18"></a>  Stensor n <span class="op">=</span> Stensor<span class="op">(</span><span class="fl">0.</span><span class="op">)</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-19"><a href="#UO2YoungModulus-19"></a>  <span class="cf">if</span><span class="op">(</span>seq <span class="op">&gt;</span> <span class="fl">1.e-12</span><span class="op">){</span></span>
<span id="UO2YoungModulus-20"><a href="#UO2YoungModulus-20"></a>    n <span class="op">=</span> <span class="fl">1.5</span><span class="op">*</span>deviator<span class="op">(</span>sig<span class="op">)/</span>seq <span class="op">;</span></span>
<span id="UO2YoungModulus-21"><a href="#UO2YoungModulus-21"></a>  <span class="op">}</span></span>
<span id="UO2YoungModulus-22"><a href="#UO2YoungModulus-22"></a>  feel <span class="op">+=</span> dp<span class="op">*</span>n<span class="op">-</span>deto <span class="op">;</span></span>
<span id="UO2YoungModulus-23"><a href="#UO2YoungModulus-23"></a>  fp <span class="op">-=</span> dt<span class="op">*</span>A<span class="op">*</span>pow<span class="op">(</span>seq<span class="op">,</span>m<span class="op">)</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-24"><a href="#UO2YoungModulus-24"></a><span class="op">}</span> <span class="co">// end of @Integrator</span></span>
<span id="UO2YoungModulus-25"><a href="#UO2YoungModulus-25"></a></span>
<span id="UO2YoungModulus-26"><a href="#UO2YoungModulus-26"></a><span class="er">@</span>TangentOperator<span class="op">{</span></span>
<span id="UO2YoungModulus-27"><a href="#UO2YoungModulus-27"></a>  Stensor4 Je <span class="op">;</span></span>
<span id="UO2YoungModulus-28"><a href="#UO2YoungModulus-28"></a>  getPartialJacobianInvert<span class="op">(</span>Je<span class="op">)</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-29"><a href="#UO2YoungModulus-29"></a>  Dt <span class="op">=</span> D<span class="op">*</span>Je <span class="op">;</span></span>
<span id="UO2YoungModulus-30"><a href="#UO2YoungModulus-30"></a><span class="op">}</span></span></code></pre></div>
<h3 id="description-ligne-par-ligne">Description ligne par ligne</h3>
<p>Un fichier commence généralement par une partie déclarative décrivant
l’algorithme utilisé pour la résolution, le nom du comportement, puis la
liste des propriétés matériau utilisées. On fournit ensuite le nom des
variables internes, et la description des équations du système à
résoudre.</p>
<ul>
<li>la ligne <span class="math inline">\(1\)</span> précise que nous
allons utiliser une méthode d’intégration implicite ;</li>
<li>la ligne <span class="math inline">\(2\)</span> donne le nom de la
loi ;</li>
<li>la ligne <span class="math inline">\(3\)</span> précise que l’on
utilise un algorithme avec jacobienne numérique ;</li>
<li>la ligne <span class="math inline">\(5\)</span> demande le calcul de
la matrice d’élasticité ;</li>
<li>les lignes <span class="math inline">\(7\)</span> et <span
class="math inline">\(8\)</span> définissent les propriétés matériau de
la loi ;</li>
<li>la ligne <span class="math inline">\(10\)</span> déclare la variable
interne <span class="math inline">\(p\)</span>. Signalons que la
variable interne <code>eel</code> (tenseur déformation élastique <span
class="math inline">\(\underline{\epsilon}^{\mathrm{el}}\)</span>) est
prédéfinie par MFront;</li>
<li>les lignes <span class="math inline">\(16\)</span> à <span
class="math inline">\(24\)</span> définissent les équations à résoudre ;
la convention de nom est la suivante : pour chaque variable interne
<code>x</code>, l’incrément est noté <code>dx</code>, et l’équation
correspondante <code>fx</code> ;</li>
<li>la ligne <span class="math inline">\(17\)</span> demande le calcul
de la norme de Von Mises ;</li>
<li>les lignes <span class="math inline">\(18\)</span> à <span
class="math inline">\(21\)</span> correspondent au calcul de la
direction d’écoulement ;</li>
<li>la ligne <span class="math inline">\(22\)</span> définit l’équation
<span
class="math inline">\(\Delta\,\underline{\epsilon}^{\mathrm{el}}-  \Delta\,\underline{\epsilon}^{\mathrm{to}}+
\Delta\,p\,\underline{n} = 0\)</span>. En effet, <code>feel</code> est
initialisé à <code>deel</code> et l’opérateur <code>+=</code> cumule les
valeurs (comme en langage <code>c</code>);</li>
<li>la ligne <span class="math inline">\(22\)</span> définit l’équation
<span class="math inline">\(\Delta\, p
-  \Delta\,t\,A\,\sigma_{\mathrm{eq}}^{m}=0\)</span>. Comme
précédemment, <code>fp</code> est initialisé à dp, et
<code>fp -= xx</code> est équivalent à <code>fp = fp - xx</code> .</li>
<li>les lignes <span class="math inline">\(26\)</span> à <span
class="math inline">\(29\)</span> permettent de calculer automatiquement
l’opérateur tangent à partir de l’inverse de la matrice jacobienne,
comme explicité ci-dessous.</li>
</ul>
<p>On constate que l’écriture de la loi se limite quasiment à la
description des équations. De plus on bénéficie d’un écriture compacte,
utilisant des variables tensorielles.</p>
<p>Différentes méthodes d’intégration sont diponibles dans MFront (
<span class="citation" data-cites="helfer_generateur_2013">[1]</span>).
L’algorithme d’intégration utilisé ici
(<code>NewtonRaphson\_NumericalJacobian</code>) permet une écriture
rapide, et est donc tout à fait adapté au test de modèles.</p>
<p>L’implantation fournit un code beaucoup plus rapide que celle d’un
algorithme explicite, mais peut toutefois être optimisée en termes de
performances. Pour cela, il suffit d’ajouter les termes de la matrice
jacobienne (dérivées des équations par rapport aux inconnues).</p>
<p>De plus, la matrice tangente en sortie de l’intégration est calculée
automatiquement à partir de la matrice jacobienne, ce qui permet
d’économiser un temps de développement important et conduit à une
matrice tangente cohérente de très bonne qualité (<span class="citation"
data-cites="helfer_generateur_2013">[1]</span>). Tout ceci conduit, en
très peu de temps, à une intégration robuste, et une convergence très
bonne. On voit qu’il est possible de profiter de cette simplicité
d’écriture pour effectuer des variantes, des tests de modèles, etc.</p>
<p>MFront gère la compilation de la loi, il suffit de taper dans un
terminal :</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mfront <span class="at">--obuild</span> <span class="at">--interface</span><span class="op">=</span>aster norton.mfront</span></code></pre></div>
<p>ou</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mfront <span class="at">--obuild</span> <span class="at">--interface</span><span class="op">=</span>castem norton.mfront</span></code></pre></div>
<p>suivant le code que l’on souhaite utiliser. Ceci génère deux
répertoires : <code>src</code> et <code>include</code>. Selon
l’interface, le répertoire <code>src</code> contient en particulier une
bibliothèque dynamique nommée <code>libAsterBehaviour.so</code> pour une
exécution avec Code-Aster, ou bien <code>libUmatBehaviour.so</code> pour
une exécution avec Cast3M.</p>
<h2 id="premier-test">Premier test</h2>
<p>De plus, l’outil MTest permet d’effectuer très facilement des
simulations sur point matériel, permettant de calculer la réponse à des
sollicitations en contraintes ou en déformations.</p>
<p>MTest, couplé à un logiciel d’optimisation, permet de plus
d’effectuer le recalage des propriétés matériau. Le fichier de données
de MTest (nommé ici <code>norton.mtest</code>) se présente de la façon
suivante :</p>
<div class="sourceCode" id="UO2YoungModulus"><pre
class="sourceCode numberSource cpp numberLines"><code class="sourceCode cpp"><span id="UO2YoungModulus-1"><a href="#UO2YoungModulus-1"></a><span class="er">@</span>Behaviour<span class="op">&lt;</span>aster<span class="op">&gt;</span> <span class="ch">&#39;.</span><span class="er">/src/libAsterBehaviour.so</span><span class="ch">&#39;</span> <span class="ch">&#39;a</span><span class="er">sternorton</span><span class="ch">&#39;</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-2"><a href="#UO2YoungModulus-2"></a><span class="er">@</span>MaterialProperty<span class="op">&lt;</span>constant<span class="op">&gt;</span> <span class="ch">&#39;y</span><span class="er">oung</span><span class="ch">&#39;</span> <span class="fl">178600.0E6</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-3"><a href="#UO2YoungModulus-3"></a><span class="er">@</span>MaterialProperty<span class="op">&lt;</span>constant<span class="op">&gt;</span> <span class="ch">&#39;n</span><span class="er">u</span><span class="ch">&#39;</span> <span class="fl">0.3</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-4"><a href="#UO2YoungModulus-4"></a><span class="er">@</span>MaterialProperty<span class="op">&lt;</span>constant<span class="op">&gt;</span> <span class="ch">&#39;A&#39;</span> <span class="fl">8.e-67</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-5"><a href="#UO2YoungModulus-5"></a><span class="er">@</span>MaterialProperty<span class="op">&lt;</span>constant<span class="op">&gt;</span> <span class="ch">&#39;m&#39;</span> <span class="fl">8.2</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-6"><a href="#UO2YoungModulus-6"></a><span class="er">@</span>ExternalStateVariable <span class="ch">&#39;T</span><span class="er">emperature</span><span class="ch">&#39;</span> <span class="fl">293.15</span> <span class="op">;</span></span>
<span id="UO2YoungModulus-7"><a href="#UO2YoungModulus-7"></a><span class="er">@</span>ImposedStress <span class="ch">&#39;S</span><span class="er">XX</span><span class="ch">&#39;</span> <span class="op">{</span> <span class="fl">0.</span> <span class="op">:</span>  <span class="fl">0.</span><span class="op">,</span> <span class="fl">30.</span> <span class="op">:</span> <span class="fl">40.e6</span><span class="op">};</span></span>
<span id="UO2YoungModulus-8"><a href="#UO2YoungModulus-8"></a><span class="er">@</span>ImposedStress <span class="ch">&#39;S</span><span class="er">XY</span><span class="ch">&#39;</span> <span class="op">{</span> <span class="fl">0.</span> <span class="op">:</span>  <span class="fl">0.</span><span class="op">,</span> <span class="fl">30.</span> <span class="op">:</span> <span class="fl">40.e6</span><span class="op">};</span></span>
<span id="UO2YoungModulus-9"><a href="#UO2YoungModulus-9"></a><span class="er">@</span>Times <span class="op">{</span><span class="fl">0.</span><span class="op">,</span><span class="fl">30.</span> in <span class="dv">100</span><span class="op">};</span></span></code></pre></div>
<ul>
<li>la ligne <span class="math inline">\(1\)</span> définit la
bibliothèque à utiliser et le nom du comportement ;</li>
<li>les lignes <span class="math inline">\(2\)</span> à <span
class="math inline">\(5\)</span> définissent les valeurs des propriétés
matériau de la loi ;</li>
<li>la ligne <span class="math inline">\(6\)</span> déclare la valeur de
la température (inutile dans le cas présent) ;</li>
<li>les lignes <span class="math inline">\(7\)</span> à <span
class="math inline">\(8\)</span> spécifient le chargement, sous la forme
de composantes de contraintes ou de déformations en fonction du temps
;</li>
<li>la ligne <span class="math inline">\(9\)</span> définit la
discrétisation en temps, donc les instants calculés.</li>
</ul>
<p>Il suffit alors de lancer le calcul par :</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mtest</span> norton.mtest</span></code></pre></div>
<p>Ceci produit un fichier résultat <code>norton.res</code> contenant
les composantes des tenseurs de déformation, de contrainte, et les
variables internes en fonction du temps. La réponse en déformation est
représentée ci-dessous:</p>
<figure>
<img src="img/tutorielch12-img1.png"
alt="Réponse d’une loi de Norton à un essai de fluage en traction-cisaillement" />
<figcaption aria-hidden="true">Réponse d’une loi de Norton à un essai de
fluage en traction-cisaillement</figcaption>
</figure>
<h1 id="références">Références</h1>
<!-- Local IspellDict: english -->
<div id="refs" class="references csl-bib-body" role="list">
<div id="ref-helfer_generateur_2013" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div
class="csl-right-inline"><span class="smallcaps">Helfer</span>, Thomas,
<span class="smallcaps">Castelier</span>, Étienne, <span
class="smallcaps">Blanc</span>, Victor and <span
class="smallcaps">Julien</span>, Jérôme. 13-020: Le générateur de code
mfront : Écriture de lois de comportement mécanique. Note technique. CEA
DEN/DEC/SESC/LSC, 2013. </div>
</div>
</div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-62273823-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
